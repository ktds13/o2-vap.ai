Execute OpenSearch queries against the analytics-events index.

This tool allows you to run OpenSearch Query DSL queries directly against the configured OpenSearch instance. It's useful for retrieving event data, performing aggregations, and analyzing analytics information.

## Usage

Provide a complete OpenSearch query DSL object that specifies the search criteria. The tool will execute the query and return formatted results.

## Parameters

- **query**: Full OpenSearch query DSL (JSON object) including query, filters, aggregations, sorting, etc.
- **index**: Target index name (defaults to "analytics-events")
- **format**: Response format - choose based on your needs:
  - "analytics": UI-friendly format with simplified event structure (default)
  - "dto": Backend DTO format matching Go service responses
  - "raw": Raw OpenSearch response without formatting

## Common Query Patterns

### Match All (Recent Events)
```json
{
  "query": { "match_all": {} },
  "sort": [{ "eventData.eventDateTime": { "order": "desc" } }],
  "size": 10
}
```

### Filter by Source and Date Range
```json
{
  "query": {
    "bool": {
      "must": [
        { "term": { "eventData.eventSourceId.keyword": "75" } }
      ],
      "filter": [
        {
          "range": {
            "eventData.eventDateTime": {
              "gte": "2024-01-01T00:00:00Z",
              "lte": "2024-01-31T23:59:59Z"
            }
          }
        }
      ]
    }
  },
  "size": 100
}
```

### Aggregation by Module
```json
{
  "query": { "match_all": {} },
  "size": 0,
  "aggs": {
    "modules": {
      "terms": { "field": "eventData.moduleId.keyword" }
    }
  }
}
```

## Field Mappings

Use these field paths in your queries:
- Event ID: `eventData.eventId.keyword`
- Module ID: `eventData.moduleId.keyword`
- Source ID: `eventData.eventSourceId.keyword`
- Task ID: `eventData.taskId.keyword`
- Event DateTime: `eventData.eventDateTime`
- Camera ID: `eventData.cameraId.keyword`

For detailed query examples and field mappings, refer to the OpenSearch Analytics Skill documentation.
